from collections import Mapping
from typing import Any, Optional

from .sql_db import Cursor


__all__: Any
_logger: Any
WRAPPED_ATTRS: Any
INHERITED_ATTRS: Any

class Params:
    args: Any = ...
    kwargs: Any = ...
    def __init__(self, args: Any, kwargs: Any) -> None: ...
    def __str__(self): ...

class Meta(type):
    def __new__(meta: Any, name: Any, bases: Any, attrs: Any): ...

def attrsetter(attr: Any, value: Any): ...
def propagate(method1: Any, method2: Any): ...
def constrains(*args: Any): ...
def onchange(*args: Any): ...
def depends(*args: Any): ...
def returns(model: Any, downgrade: Optional[Any] = ..., upgrade: Optional[Any] = ...): ...
def downgrade(method: Any, value: Any, self: Any, args: Any, kwargs: Any): ...
def aggregate(method: Any, value: Any, self: Any): ...
def split_context(method: Any, args: Any, kwargs: Any): ...
def model(method: Any): ...
def multi(method: Any): ...
def one(method: Any): ...
def model_cr(method: Any): ...
def model_cr_context(method: Any): ...

_create_logger: Any

def _model_create_single(create: Any, self: Any, arg: Any): ...
def model_create_single(method: Any): ...
def _model_create_multi(create: Any, self: Any, arg: Any): ...
def model_create_multi(method: Any): ...
def cr(method: Any): ...
def cr_context(method: Any): ...
def cr_uid(method: Any): ...
def cr_uid_context(method: Any): ...
def cr_uid_id(method: Any): ...
def cr_uid_id_context(method: Any): ...
def cr_uid_ids(method: Any): ...
def cr_uid_ids_context(method: Any): ...
def cr_uid_records(method: Any): ...
def cr_uid_records_context(method: Any): ...
def v7(method_v7: Any): ...
def v8(method_v8: Any): ...
def noguess(method: Any): ...
def guess(method: Any): ...
def expected(decorator: Any, func: Any): ...
def _call_kw_model(method: Any, self: Any, args: Any, kwargs: Any): ...
def _call_kw_model_create(method: Any, self: Any, args: Any, kwargs: Any): ...
def _call_kw_multi(method: Any, self: Any, args: Any, kwargs: Any): ...
def call_kw(model: Any, name: Any, args: Any, kwargs: Any): ...

class Environment(Mapping):
    cr: Cursor = ...
    uid: int = ...
    context: dict = ...
    _local: Any = ...
    @property
    def envs(cls) -> Environments: ...
    @classmethod
    def manage(cls) -> None: ...
    @classmethod
    def reset(cls) -> None: ...
    registry: Any = ...
    cache: Any = ...
    _cache_key: Any = ...
    _protected: Any = ...
    dirty: Any = ...
    all: Any = ...
    def __new__(cls, cr: Any, uid: Any, context: Any) -> Environment: ...
    def __contains__(self, model_name: Any): ...
    def __getitem__(self, model_name: Any): ...
    def __iter__(self) -> Any: ...
    def __len__(self): ...
    def __eq__(self, other: Any) -> Any: ...
    def __ne__(self, other: Any) -> Any: ...
    def __hash__(self) -> Any: ...
    def __call__(self, cr: Optional[Any] = ..., user: Optional[Any] = ..., context: Optional[Any] = ...): ...
    def ref(self, xml_id: Any, raise_if_not_found: bool = ...): ...
    @property
    def user(self):
        return self['res.users']
    @property
    def lang(self) -> str: ...
    def _do_in_mode(self, mode: Any) -> None: ...
    def do_in_draft(self): ...
    @property
    def in_draft(self): ...
    def do_in_onchange(self): ...
    @property
    def in_onchange(self): ...
    def clear(self) -> None: ...
    def clear_upon_failure(self) -> None: ...
    def protected(self, field: Any): ...
    def protecting(self, what: Any, records: Optional[Any] = ...) -> None: ...
    def field_todo(self, field: Any): ...
    def check_todo(self, field: Any, record: Any): ...
    def add_todo(self, field: Any, records: Any) -> None: ...
    def remove_todo(self, field: Any, records: Any) -> None: ...
    def has_todo(self): ...
    def get_todo(self): ...
    @property
    def recompute(self): ...
    def norecompute(self) -> None: ...
    def cache_key(self, field: Any): ...

class Environments:
    envs: Any = ...
    cache: Any = ...
    todo: Any = ...
    mode: bool = ...
    recompute: bool = ...
    def __init__(self) -> None: ...
    def add(self, env: Any) -> None: ...
    def __iter__(self) -> Any: ...

class Cache:
    _data: Any = ...
    def __init__(self): ...
    def contains(self, record: Any, field: Any): ...
    def get(self, record: Any, field: Any): ...
    def set(self, record: Any, field: Any, value: Any) -> None: ...
    def update(self, records: Any, field: Any, values: Any) -> None: ...
    def remove(self, record: Any, field: Any) -> None: ...
    def contains_value(self, record: Any, field: Any): ...
    def get_value(self, record: Any, field: Any, default: Optional[Any] = ...): ...
    def get_special(self, record: Any, field: Any, default: Optional[Any] = ...): ...
    def set_special(self, record: Any, field: Any, getter: Any) -> None: ...
    def set_failed(self, records: Any, fields: Any, exception: Any) -> None: ...
    def get_fields(self, record: Any) -> None: ...
    def get_records(self, model: Any, field: Any): ...
    def get_missing_ids(self, records: Any, field: Any) -> None: ...
    def copy(self, records: Any, env: Any) -> None: ...
    def invalidate(self, spec: Optional[Any] = ...) -> None: ...
    def check(self, env: Any) -> None: ...

class SpecialValue:
    __slots__: Any = ...
    get: Any = ...
    def __init__(self, getter: Any) -> None: ...
